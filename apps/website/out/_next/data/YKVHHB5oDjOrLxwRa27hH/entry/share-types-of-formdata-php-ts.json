{"pageProps":{"entry":{"head":{"slug":"share-types-of-formdata-php-ts","tags":["engineering"],"created":"2022-12-31T16:37:00.000Z","updated":"2023-01-04T06:34:00.000Z","title":"TSとPHPでFormDataの型を共有する","coverImageUrl":null},"body":{"content":[{"object":"block","id":"33e25069-2e24-4c66-b361-950f8cba51f0","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"table_of_contents","table_of_contents":{"color":"gray"}},{"object":"block","id":"c508ccb0-ceef-4e09-b44e-c01c6c19e369","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2023-01-02T13:50:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"heading_1","heading_1":{"rich_text":[{"type":"text","text":{"content":"背景","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"背景","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"a044d7b6-ebdd-49c6-9357-18312f0017ad","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"<blockquote class=\"twitter-tweet\"><p lang=\"ja\" dir=\"ltr\">TSとPHP間のFormDataの型めっちゃつらいやつ毎回なってる</p>— Shuta (@did0es) <a href=\"","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"<blockquote class=\"twitter-tweet\"><p lang=\"ja\" dir=\"ltr\">TSとPHP間のFormDataの型めっちゃつらいやつ毎回なってる</p>— Shuta (@did0es) <a href=\"","href":null},{"type":"text","text":{"content":"https://twitter.com/did0es/status/1401471990259613697?ref_src=twsrc^tfw","link":{"url":"https://twitter.com/did0es/status/1401471990259613697?ref_src=twsrc%5Etfw"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"https://twitter.com/did0es/status/1401471990259613697?ref_src=twsrc^tfw","href":"https://twitter.com/did0es/status/1401471990259613697?ref_src=twsrc%5Etfw"},{"type":"text","text":{"content":"\">June 6, 2021</a></blockquote>","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"\">June 6, 2021</a></blockquote>","href":null}],"color":"default"}},{"object":"block","id":"7e12e270-68b7-47fe-abd7-a4b2d949e09d","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"サーバーサイドで Node.js が動かない環境(某レンタルサーバー)でアプリケーションを実装する必要が生じたため、","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"サーバーサイドで Node.js が動かない環境(某レンタルサーバー)でアプリケーションを実装する必要が生じたため、","href":null},{"type":"text","text":{"content":"渋々","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":true,"underline":false,"code":false,"color":"default"},"plain_text":"渋々","href":null},{"type":"text","text":{"content":" PHP を書いていたんですが、クライアントサイドは React で書きたいという我儘が出てきてしまい、その欲望に従った結果型を共有出来ないゆえの地獄を見たのでその脱出を図りました。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" PHP を書いていたんですが、クライアントサイドは React で書きたいという我儘が出てきてしまい、その欲望に従った結果型を共有出来ないゆえの地獄を見たのでその脱出を図りました。","href":null}],"color":"default"}},{"object":"block","id":"8f39de94-2b4b-4b7b-b7a1-f5753ed25c06","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2023-01-02T13:51:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"heading_1","heading_1":{"rich_text":[{"type":"text","text":{"content":"概観","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"概観","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"1228efba-6706-42a9-9938-aada38193f13","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"筆者は ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"筆者は ","href":null},{"type":"text","text":{"content":"FormData","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"FormData","href":null},{"type":"text","text":{"content":" を扱う際に以下のような型の拡張を書いた","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" を扱う際に以下のような型の拡張を書いた","href":null},{"type":"text","text":{"content":"d.ts","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"d.ts","href":null},{"type":"text","text":{"content":"ファイルを使うことがあります。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"ファイルを使うことがあります。","href":null}],"color":"default"}},{"object":"block","id":"5c33b792-d87d-4e2e-a6c0-a242613c1b89","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"interface FormData {\n  append(\n    name: 'foo' | 'piyo' | 'fuga',\n    value: string | Blob,\n    filename?: string\n  ): void;\n}\n","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"interface FormData {\n  append(\n    name: 'foo' | 'piyo' | 'fuga',\n    value: string | Blob,\n    filename?: string\n  ): void;\n}\n","href":null}],"language":"plain text"}},{"object":"block","id":"8b83d4e9-9611-4770-aefa-5b664d73f03f","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"append","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"append","href":null},{"type":"text","text":{"content":" の ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" の ","href":null},{"type":"text","text":{"content":"name","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"name","href":null},{"type":"text","text":{"content":" を文字列リテラルで縛っています。サーバーサイドも TypeScript の場合この型定義を共有することで、クライアントサイドから送信される ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" を文字列リテラルで縛っています。サーバーサイドも TypeScript の場合この型定義を共有することで、クライアントサイドから送信される ","href":null},{"type":"text","text":{"content":"FormData","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"FormData","href":null},{"type":"text","text":{"content":" の ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" の ","href":null},{"type":"text","text":{"content":"name","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"name","href":null},{"type":"text","text":{"content":" がどのようなものか簡単にわかるようになっています。また VSCode などでは補完機能により、タイポを防いで無駄な確認の手間を省くという意味合いもあります。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" がどのようなものか簡単にわかるようになっています。また VSCode などでは補完機能により、タイポを防いで無駄な確認の手間を省くという意味合いもあります。","href":null}],"color":"default"}},{"object":"block","id":"747b8fd7-0f3e-48a8-83ba-1de08697e41f","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"ただサーバーサイドが PHP の場合(TypeScript 以外の言語でもそうですが)、","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"ただサーバーサイドが PHP の場合(TypeScript 以外の言語でもそうですが)、","href":null},{"type":"text","text":{"content":"d.ts","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"d.ts","href":null},{"type":"text","text":{"content":" ファイルを共有出来ないため、何かしら別の手段を用意する必要があります。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" ファイルを共有出来ないため、何かしら別の手段を用意する必要があります。","href":null}],"color":"default"}},{"object":"block","id":"d487522a-16f4-40da-ade1-6708b9eff8df","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"今回は PHP なので、PHPDoc Types と PHPStan の静的解析による型チェックを活用していきます。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"今回は PHP なので、PHPDoc Types と PHPStan の静的解析による型チェックを活用していきます。","href":null}],"color":"default"}},{"object":"block","id":"c6342d30-f8b9-4ac5-bf5b-e452fceb60c0","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2023-01-02T13:51:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"heading_1","heading_1":{"rich_text":[{"type":"text","text":{"content":"用意するもの","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"用意するもの","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"ef768280-b9cd-4e73-b63e-ba189704f7f8","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"クライアントサイドは TypeScript で書かれている前提で、他にサーバーサイドでは以下のものを用意します。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"クライアントサイドは TypeScript で書かれている前提で、他にサーバーサイドでは以下のものを用意します。","href":null}],"color":"default"}},{"object":"block","id":"91207c7b-120f-445c-b74b-35a071fa784f","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"PHPStan","link":{"url":"https://github.com/phpstan/phpstan"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"PHPStan","href":"https://github.com/phpstan/phpstan"}],"color":"default"}},{"object":"block","id":"2ccc3986-858f-4228-8515-c38ec4ea793d","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"PHP-Parser","link":{"url":"https://github.com/nikic/PHP-Parser"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"PHP-Parser","href":"https://github.com/nikic/PHP-Parser"}],"color":"default"}},{"object":"block","id":"83c2b168-6914-4481-957b-319bccb23040","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"どちらも ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"どちらも ","href":null},{"type":"text","text":{"content":"composer","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"composer","href":null},{"type":"text","text":{"content":" でインストール出来ます。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" でインストール出来ます。","href":null}],"color":"default"}},{"object":"block","id":"11a28c47-18a7-498a-9561-2aa2adea24c2","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2023-01-02T13:51:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"heading_1","heading_1":{"rich_text":[{"type":"text","text":{"content":"実装","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"実装","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"c807b322-c67b-4c0f-a05b-c6a9c7dc19e4","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2023-01-02T13:51:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"FormDataを拡張した型を取り出してJSONにする","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"FormDataを拡張した型を取り出してJSONにする","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"89314788-491a-49d4-b136-2ced7fc7b45c","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"FormData","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"FormData","href":null},{"type":"text","text":{"content":" を拡張した型定義は以下のようになっています。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" を拡張した型定義は以下のようになっています。","href":null}],"color":"default"}},{"object":"block","id":"1419994c-fb70-4330-88b8-a354dfe982a7","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"formdata.d.ts","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"formdata.d.ts","href":null}],"color":"default"}},{"object":"block","id":"e15f9aaf-9fc1-41d1-8864-d67bb9e9beef","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"\ninterface FormData {\n  append(\n    name: 'audio_data' | 'user_dir_name' | 'data_map' | 'result_data',\n    value: string | Blob,\n    filename?: 'data_map' | 'listen_result'\n  ): void;\n}\n\n","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"\ninterface FormData {\n  append(\n    name: 'audio_data' | 'user_dir_name' | 'data_map' | 'result_data',\n    value: string | Blob,\n    filename?: 'data_map' | 'listen_result'\n  ): void;\n}\n\n","href":null}],"language":"plain text"}},{"object":"block","id":"42dbfdc9-89f7-4316-be08-af4ded5783ab","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"上のコードから ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"上のコードから ","href":null},{"type":"text","text":{"content":"name","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"name","href":null},{"type":"text","text":{"content":" の Parameters を取り出して JSON にします。数行程度で実装出来ます。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" の Parameters を取り出して JSON にします。数行程度で実装出来ます。","href":null}],"color":"default"}},{"object":"block","id":"6d89a461-bc28-4867-846e-f6d0de541dfd","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"types-bridge/src/core.ts","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"types-bridge/src/core.ts","href":null}],"color":"default"}},{"object":"block","id":"22926091-6b43-4f30-8de8-c2b20ce1190c","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"import * as path from 'path';\nimport * as ts from 'typescript';\nimport { readFile, writeFile } from 'fs/promises';\n\ntype Properties = { [key: string]: string };\n\nlet properties: Properties = {};\nconst visit = (node: ts.Node | ts.Node[], sourceFile: ts.SourceFile) => {\n  if (Array.isArray(node)) {\n    node.forEach((n) => {\n      visit(n, sourceFile);\n    });\n  } else {\n    if (node.kind === ts.SyntaxKind.Parameter) {\n      const texts = node.getText(sourceFile).split(': ');\n      const key = texts[0];\n      const value = texts[1];\n      properties[key] = value;\n      return;\n    } else {\n      visit(node.getChildren(sourceFile), sourceFile);\n    }\n  }\n};\n\nconst extract = async (file: string) => {\n  const data = await readFile(path.resolve(`../client/src/${file}`));\n  const sourceFile = ts.createSourceFile(\n    file,\n    data.toString(),\n    ts.ScriptTarget.ES2015\n  );\n  visit(sourceFile.getChildren(sourceFile), sourceFile);\n\n  await writeFile(\n    process.cwd() + '/json/formdata.json',\n    JSON.stringify(properties, null, '  ')\n  );\n\n  properties = {};\n};\n\nextract(process.argv[2]);\n","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"import * as path from 'path';\nimport * as ts from 'typescript';\nimport { readFile, writeFile } from 'fs/promises';\n\ntype Properties = { [key: string]: string };\n\nlet properties: Properties = {};\nconst visit = (node: ts.Node | ts.Node[], sourceFile: ts.SourceFile) => {\n  if (Array.isArray(node)) {\n    node.forEach((n) => {\n      visit(n, sourceFile);\n    });\n  } else {\n    if (node.kind === ts.SyntaxKind.Parameter) {\n      const texts = node.getText(sourceFile).split(': ');\n      const key = texts[0];\n      const value = texts[1];\n      properties[key] = value;\n      return;\n    } else {\n      visit(node.getChildren(sourceFile), sourceFile);\n    }\n  }\n};\n\nconst extract = async (file: string) => {\n  const data = await readFile(path.resolve(`../client/src/${file}`));\n  const sourceFile = ts.createSourceFile(\n    file,\n    data.toString(),\n    ts.ScriptTarget.ES2015\n  );\n  visit(sourceFile.getChildren(sourceFile), sourceFile);\n\n  await writeFile(\n    process.cwd() + '/json/formdata.json',\n    JSON.stringify(properties, null, '  ')\n  );\n\n  properties = {};\n};\n\nextract(process.argv[2]);\n","href":null}],"language":"plain text"}},{"object":"block","id":"cabc4f17-a4df-4ab8-9ec3-6c7fc8240f9d","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"visit","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"visit","href":null},{"type":"text","text":{"content":"関数によって型定義の TypeScript AST を Traverse し、該当する ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"関数によって型定義の TypeScript AST を Traverse し、該当する ","href":null},{"type":"text","text":{"content":"SyntaxKind","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"SyntaxKind","href":null},{"type":"text","text":{"content":" を取り出してオブジェクトに格納しています。オブジェクトは後に PHP側 の実装と共有するため JSON として書き出しています。別に JSON じゃなくても PHP 側でも読み込めるファイルであればここは何でもいいです。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" を取り出してオブジェクトに格納しています。オブジェクトは後に PHP側 の実装と共有するため JSON として書き出しています。別に JSON じゃなくても PHP 側でも読み込めるファイルであればここは何でもいいです。","href":null}],"color":"default"}},{"object":"block","id":"c2aa537a-e6a2-4806-9909-37612403f7fe","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2023-01-02T13:51:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"PHP側でJSONのデータをPHPDoc Typesに変換","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"PHP側でJSONのデータをPHPDoc Typesに変換","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"655e3086-3ee0-41e1-a342-efd8e0ef917e","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"POST された ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"POST された ","href":null},{"type":"text","text":{"content":"FormData","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"FormData","href":null},{"type":"text","text":{"content":" は PHP 側で ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" は PHP 側で ","href":null},{"type":"text","text":{"content":"$_FILES","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"$_FILES","href":null},{"type":"text","text":{"content":" から受け取ります。定義済み変数の型を拡張する方法がわからなかったので以下のようなクラスを定義しました。(こうすれば拡張できていいよ！とかあれば教えて下さい)","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" から受け取ります。定義済み変数の型を拡張する方法がわからなかったので以下のようなクラスを定義しました。(こうすれば拡張できていいよ！とかあれば教えて下さい)","href":null}],"color":"default"}},{"object":"block","id":"e8ce2584-3cfd-4f04-b7f9-9d8d0905b83c","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"server/src/shared/http_variables.php","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"server/src/shared/http_variables.php","href":null}],"color":"default"}},{"object":"block","id":"2873616e-8e31-4318-915f-5c58273915a6","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"\n<?php\n\ndeclare (strict_types=1);\nerror_reporting(E_ALL);\n\nclass HttpVariables\n{\n    // ~~\n\n    public function files($key)\n    {\n        return $_FILES[$key];\n    }\n}\n\n","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"\n<?php\n\ndeclare (strict_types=1);\nerror_reporting(E_ALL);\n\nclass HttpVariables\n{\n    // ~~\n\n    public function files($key)\n    {\n        return $_FILES[$key];\n    }\n}\n\n","href":null}],"language":"plain text"}},{"object":"block","id":"8127a30e-cc73-437c-822f-f7e8910686c7","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"この状態で PHPStan を実行すると落ちます。(PHPStan の level は 　max で実行しています)","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"この状態で PHPStan を実行すると落ちます。(PHPStan の level は 　max で実行しています)","href":null}],"color":"default"}},{"object":"block","id":"e98a3ce9-4ab9-480d-88a0-efac82b38abe","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"> ./vendor/bin/phpstan analyze -c phpstan.neon\n 9/9 [▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓] 100%\n\n ------ ------------------------------------------------------------------------------\n  Line   shared/http_variables.php\n ------ ------------------------------------------------------------------------------\n # ~~\n\n  18     Method HttpVariables::files() has no return typehint specified.\n  18     Method HttpVariables::files() has parameter $key with no typehint specified.\n ------ ------------------------------------------------------------------------------\n\n [ERROR] Found 6 errors\n\nScript ./vendor/bin/phpstan analyze -c phpstan.neon handling the phpstan event returned with error code 1\n","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"> ./vendor/bin/phpstan analyze -c phpstan.neon\n 9/9 [▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓] 100%\n\n ------ ------------------------------------------------------------------------------\n  Line   shared/http_variables.php\n ------ ------------------------------------------------------------------------------\n # ~~\n\n  18     Method HttpVariables::files() has no return typehint specified.\n  18     Method HttpVariables::files() has parameter $key with no typehint specified.\n ------ ------------------------------------------------------------------------------\n\n [ERROR] Found 6 errors\n\nScript ./vendor/bin/phpstan analyze -c phpstan.neon handling the phpstan event returned with error code 1\n","href":null}],"language":"plain text"}},{"object":"block","id":"fbbe5230-7d36-472a-8ac2-e4b56cad9e83","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"この PHPStan による型チェックが通ることをゴールに進めます。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"この PHPStan による型チェックが通ることをゴールに進めます。","href":null}],"color":"default"}},{"object":"block","id":"ea146692-a841-4065-8072-066d9af41ee1","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"files","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"files","href":null},{"type":"text","text":{"content":" メソッドの ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" メソッドの ","href":null},{"type":"text","text":{"content":"@return","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"@return","href":null},{"type":"text","text":{"content":" の型はとりあえず以下のように設定しておきます。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" の型はとりあえず以下のように設定しておきます。","href":null}],"color":"default"}},{"object":"block","id":"d6c3a83a-ac8c-4a7a-b47f-4ac8b88a918a","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"/**\n * @phpstan-type Files array{tmp_name: string, name: string}\n */\nclass HttpVariables\n{\n    // ~~\n\n    /**\n     * @return Files\n     */\n    public function files($key)\n    {\n        return $_FILES[$key];\n    }\n}\n","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"/**\n * @phpstan-type Files array{tmp_name: string, name: string}\n */\nclass HttpVariables\n{\n    // ~~\n\n    /**\n     * @return Files\n     */\n    public function files($key)\n    {\n        return $_FILES[$key];\n    }\n}\n","href":null}],"language":"plain text"}},{"object":"block","id":"ccc423f2-915a-4e32-9773-682d75253e1e","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"@param","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"@param","href":null},{"type":"text","text":{"content":" の方は先程用意した JSON を元に作成します。以下が実際に実装したコードです。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" の方は先程用意した JSON を元に作成します。以下が実際に実装したコードです。","href":null}],"color":"default"}},{"object":"block","id":"76412c4d-d60f-442c-ba3b-0d3d24506b01","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"server/scripts/types-bridge-client.php","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"server/scripts/types-bridge-client.php","href":null}],"color":"default"}},{"object":"block","id":"2ca97f20-dfa9-4d24-9aec-a9a3e61c3782","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"<?php\n  declare(strict_types=1);\n\n  error_reporting(E_ALL);\n\n  require(dirname(__FILE__) . \"/../vendor/autoload.php\");\n\n  use PhpParser\\\\Comment\\\\Doc;\n  use PhpParser\\\\Error;\n  use PhpParser\\\\ParserFactory;\n  use PhpParser\\\\Node;\n  use PhpParser\\\\Node\\\\Stmt\\\\ClassMethod;\n  use PhpParser\\\\NodeTraverser;\n  use PhpParser\\\\NodeVisitorAbstract;\n  use PhpParser\\\\PrettyPrinter;\n\n  $target_php_file = 'http_variables.php';\n  $target_types_file = 'formdata.json';\n\n  $target_php_file_path = __DIR__ . \"/../src/shared/\" . $target_php_file;\n  $target_types_file_path = __DIR__ . \"/../../types-bridge/json/\" . $target_types_file;\n\n  $php_code = file_get_contents($target_php_file_path);\n  $formdata_types_json = json_decode(file_get_contents($target_types_file_path));\n\n  $parser = (new ParserFactory)->create(ParserFactory::PREFER_PHP7);\n  try {\n      $ast = $parser->parse($php_code);\n  } catch (Error $error) {\n      echo \"Parse error: {$error->getMessage()}\\\\n\";\n      return;\n  }\n\n  $traverser = new NodeTraverser();\n\n  class NodeVisitor extends NodeVisitorAbstract\n  {\n      private $formdata_types_json;\n\n      function __construct($formdata_types_json)\n      {\n          $this->formdata_types_json = $formdata_types_json;\n      }\n\n      public function enterNode(Node $node)\n      {\n          if ($node instanceof ClassMethod && $node->name->name === 'files') {\n              $prev_doc_comment = $node->getDocComment()->getText();\n              $prev_doc_comment_lines = preg_split('/\\\\n/', $prev_doc_comment);\n              $formatted_comment_lines = array_map(function ($line) {\n                  return trim(preg_replace('/\\\\*/', \"\", $line));\n              }, $prev_doc_comment_lines);\n              foreach ($formatted_comment_lines as $line) {\n                  if (preg_match('/@param/', $line)) {\n                      $words = preg_split('/\\\\s/', $line);\n                      $param_name = $words[array_key_last($words)];\n                      $param_types = $this->formdata_types_json->name;\n                      $new_doc_comments = \"/**\n                       * @param $param_types $param_name\n                       * @return Files\n                       */\";\n                      $node->setDocComment(new Doc($new_doc_comments));\n                  }\n              }\n          }\n      }\n  }\n\n  $traverser->addVisitor(new NodeVisitor($formdata_types_json));\n\n  $ast = $traverser->traverse($ast);\n\n  if ($ast) {\n      $pretty_printer = new PrettyPrinter\\\\Standard();\n      file_put_contents($target_php_file_path, $pretty_printer->prettyPrintFile($ast));\n  } else {\n      throw new \\\\Exception('Cannot get ast.');\n  }\n\n","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"<?php\n  declare(strict_types=1);\n\n  error_reporting(E_ALL);\n\n  require(dirname(__FILE__) . \"/../vendor/autoload.php\");\n\n  use PhpParser\\\\Comment\\\\Doc;\n  use PhpParser\\\\Error;\n  use PhpParser\\\\ParserFactory;\n  use PhpParser\\\\Node;\n  use PhpParser\\\\Node\\\\Stmt\\\\ClassMethod;\n  use PhpParser\\\\NodeTraverser;\n  use PhpParser\\\\NodeVisitorAbstract;\n  use PhpParser\\\\PrettyPrinter;\n\n  $target_php_file = 'http_variables.php';\n  $target_types_file = 'formdata.json';\n\n  $target_php_file_path = __DIR__ . \"/../src/shared/\" . $target_php_file;\n  $target_types_file_path = __DIR__ . \"/../../types-bridge/json/\" . $target_types_file;\n\n  $php_code = file_get_contents($target_php_file_path);\n  $formdata_types_json = json_decode(file_get_contents($target_types_file_path));\n\n  $parser = (new ParserFactory)->create(ParserFactory::PREFER_PHP7);\n  try {\n      $ast = $parser->parse($php_code);\n  } catch (Error $error) {\n      echo \"Parse error: {$error->getMessage()}\\\\n\";\n      return;\n  }\n\n  $traverser = new NodeTraverser();\n\n  class NodeVisitor extends NodeVisitorAbstract\n  {\n      private $formdata_types_json;\n\n      function __construct($formdata_types_json)\n      {\n          $this->formdata_types_json = $formdata_types_json;\n      }\n\n      public function enterNode(Node $node)\n      {\n          if ($node instanceof ClassMethod && $node->name->name === 'files') {\n              $prev_doc_comment = $node->getDocComment()->getText();\n              $prev_doc_comment_lines = preg_split('/\\\\n/', $prev_doc_comment);\n              $formatted_comment_lines = array_map(function ($line) {\n                  return trim(preg_replace('/\\\\*/', \"\", $line));\n              }, $prev_doc_comment_lines);\n              foreach ($formatted_comment_lines as $line) {\n                  if (preg_match('/@param/', $line)) {\n                      $words = preg_split('/\\\\s/', $line);\n                      $param_name = $words[array_key_last($words)];\n                      $param_types = $this->formdata_types_json->name;\n                      $new_doc_comments = \"/**\n                       * @param $param_types $param_name\n                       * @return Files\n                       */\";\n                      $node->setDocComment(new Doc($new_doc_comments));\n                  }\n              }\n          }\n      }\n  }\n\n  $traverser->addVisitor(new NodeVisitor($formdata_types_json));\n\n  $ast = $traverser->traverse($ast);\n\n  if ($ast) {\n      $pretty_printer = new PrettyPrinter\\\\Standard();\n      file_put_contents($target_php_file_path, $pretty_printer->prettyPrintFile($ast));\n  } else {\n      throw new \\\\Exception('Cannot get ast.');\n  }\n\n","href":null}],"language":"plain text"}},{"object":"block","id":"772caca0-d3e3-4406-84dd-6a73e747c978","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"PHP-Parser","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"PHP-Parser","href":null},{"type":"text","text":{"content":" の ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" の ","href":null},{"type":"text","text":{"content":"PhpParser\\\\NodeTraverser","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"PhpParser\\\\NodeTraverser","href":null},{"type":"text","text":{"content":" を利用して、対象の PHP ファイルから ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" を利用して、対象の PHP ファイルから ","href":null},{"type":"text","text":{"content":"files","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"files","href":null},{"type":"text","text":{"content":" メソッドの PHPDoc Comment を探し出し、","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" メソッドの PHPDoc Comment を探し出し、","href":null},{"type":"text","text":{"content":"getDocComment","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"getDocComment","href":null},{"type":"text","text":{"content":" で取り出しています。取り出したコメントは整形した後、","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" で取り出しています。取り出したコメントは整形した後、","href":null},{"type":"text","text":{"content":"@param","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"@param","href":null},{"type":"text","text":{"content":" の型に相当する部分を読み込んだ JSON を元に ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" の型に相当する部分を読み込んだ JSON を元に ","href":null},{"type":"text","text":{"content":"setDocComment","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"setDocComment","href":null},{"type":"text","text":{"content":" で置き換えています。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" で置き換えています。","href":null}],"color":"default"}},{"object":"block","id":"2f59b4b8-eeba-4d8e-8905-5ba0488ef2ae","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"試しにこの ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"試しにこの ","href":null},{"type":"text","text":{"content":"files","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"files","href":null},{"type":"text","text":{"content":" メソッドの戻り値から目当ての値を呼び出してみます。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" メソッドの戻り値から目当ての値を呼び出してみます。","href":null}],"color":"default"}},{"object":"block","id":"329579bd-b654-4e0b-93c2-d579e8383a78","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"<?php\n  // ~~\n\n  $http_variables = new HttpVariables();\n\n  (function () use ($mkdir, $http_variables) {\n      $files = $http_variables->files('result_data');\n      $input = $files['tmp_name'];\n      $output = $files['name'] . \".json\";\n\n      if (move_uploaded_file($input, \"./\" . $mkdir->full_data_dir_name . \"/\" . $output)) {\n          echo json_encode(['message' => 'Created listen result data.']);\n      } else {\n          http_response_code(405);\n      }\n  })();\n\n","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"<?php\n  // ~~\n\n  $http_variables = new HttpVariables();\n\n  (function () use ($mkdir, $http_variables) {\n      $files = $http_variables->files('result_data');\n      $input = $files['tmp_name'];\n      $output = $files['name'] . \".json\";\n\n      if (move_uploaded_file($input, \"./\" . $mkdir->full_data_dir_name . \"/\" . $output)) {\n          echo json_encode(['message' => 'Created listen result data.']);\n      } else {\n          http_response_code(405);\n      }\n  })();\n\n","href":null}],"language":"plain text"}},{"object":"block","id":"99ebda46-8a2c-41a5-a9d6-7ba0f9dad06a","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"PHPStan による型チェックは通ります。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"PHPStan による型チェックは通ります。","href":null}],"color":"default"}},{"object":"block","id":"efaf26cd-3d1f-4475-8e12-5a7880877783","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"$ composer --working-dir=workspaces/server phpstan\n> ./vendor/bin/phpstan analyze -c phpstan.neon\n 9/9 [▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓] 100%\n\n [OK] No errors\n\n✨  Done in 0.69s.\n","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"$ composer --working-dir=workspaces/server phpstan\n> ./vendor/bin/phpstan analyze -c phpstan.neon\n 9/9 [▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓] 100%\n\n [OK] No errors\n\n✨  Done in 0.69s.\n","href":null}],"language":"plain text"}},{"object":"block","id":"1f380976-236e-433a-b5c3-849d58703828","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"🎉","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"🎉","href":null}],"color":"default"}},{"object":"block","id":"2766efd2-ed5a-4788-9ce6-ce2449b8a5a2","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"ちなみに呼び出す際の key を先程生成した PHPDoc Types に存在しないものにするとちゃんとチェックは落ちます。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"ちなみに呼び出す際の key を先程生成した PHPDoc Types に存在しないものにするとちゃんとチェックは落ちます。","href":null}],"color":"default"}},{"object":"block","id":"f87c85e9-dd38-49f4-bdb2-2eaa978c962b","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"<?php\n  // ~~\n\n  $http_variables = new HttpVariables();\n\n  $mkdir = new Mkdir($http_variables);\n  $mkdir->set();\n\n  (function () use ($mkdir, $http_variables) {\n      $files = $http_variables->files('something');\n      $input = $files['tmp_name'];\n      $output = $files['name'] . \".json\";\n\n      if (move_uploaded_file($input, \"./\" . $mkdir->full_data_dir_name . \"/\" . $output)) {\n          echo json_encode(['message' => 'Created listen result data.']);\n      } else {\n          http_response_code(405);\n      }\n  })();\n\n","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"<?php\n  // ~~\n\n  $http_variables = new HttpVariables();\n\n  $mkdir = new Mkdir($http_variables);\n  $mkdir->set();\n\n  (function () use ($mkdir, $http_variables) {\n      $files = $http_variables->files('something');\n      $input = $files['tmp_name'];\n      $output = $files['name'] . \".json\";\n\n      if (move_uploaded_file($input, \"./\" . $mkdir->full_data_dir_name . \"/\" . $output)) {\n          echo json_encode(['message' => 'Created listen result data.']);\n      } else {\n          http_response_code(405);\n      }\n  })();\n\n","href":null}],"language":"plain text"}},{"object":"block","id":"d9818f95-9a1c-43d2-93ff-2585d00cd8fb","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"$ composer --working-dir=workspaces/server phpstan\n> ./vendor/bin/phpstan analyze -c phpstan.neon\n 9/9 [▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓] 100%\n\n ------ --------------------------------------------------------------------------------------------------------------------------------------\n  Line   listen/set_result_data.php\n ------ --------------------------------------------------------------------------------------------------------------------------------------\n  18     Parameter #1 $key of method HttpVariables::files() expects 'audio_data'|'data_map'|'result_data'|'user_dir_name', 'something' given.\n ------ --------------------------------------------------------------------------------------------------------------------------------------\n\n [ERROR] Found 1 error\n\nScript ./vendor/bin/phpstan analyze -c phpstan.neon handling the phpstan event returned with error code 1\n\n","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"$ composer --working-dir=workspaces/server phpstan\n> ./vendor/bin/phpstan analyze -c phpstan.neon\n 9/9 [▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓] 100%\n\n ------ --------------------------------------------------------------------------------------------------------------------------------------\n  Line   listen/set_result_data.php\n ------ --------------------------------------------------------------------------------------------------------------------------------------\n  18     Parameter #1 $key of method HttpVariables::files() expects 'audio_data'|'data_map'|'result_data'|'user_dir_name', 'something' given.\n ------ --------------------------------------------------------------------------------------------------------------------------------------\n\n [ERROR] Found 1 error\n\nScript ./vendor/bin/phpstan analyze -c phpstan.neon handling the phpstan event returned with error code 1\n\n","href":null}],"language":"plain text"}},{"object":"block","id":"b7c09d12-c1d7-4919-9529-bc614fcfb950","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2023-01-02T13:51:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"heading_1","heading_1":{"rich_text":[{"type":"text","text":{"content":"おわりに","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"おわりに","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"837b5d03-e929-4742-9ca7-8fb620967db1","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"サーバーサイドが TypeScript でない状況でもどうにか　AST の力を借りて型を共有してみました。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"サーバーサイドが TypeScript でない状況でもどうにか　AST の力を借りて型を共有してみました。","href":null}],"color":"default"}},{"object":"block","id":"51aba711-bbff-4347-b71d-03968b321038","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"PHP の ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"PHP の ","href":null},{"type":"text","text":{"content":"$_FILES","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"$_FILES","href":null},{"type":"text","text":{"content":" 以外に ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 以外に ","href":null},{"type":"text","text":{"content":"$_GET","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"$_GET","href":null},{"type":"text","text":{"content":"や ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"や ","href":null},{"type":"text","text":{"content":"$_POST","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"$_POST","href":null},{"type":"text","text":{"content":" でも同様に拡張した型定義があれば ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" でも同様に拡張した型定義があれば ","href":null},{"type":"text","text":{"content":"FormData","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"FormData","href":null},{"type":"text","text":{"content":" 以外でも PHP 側に型を流すことが出来ると思います。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 以外でも PHP 側に型を流すことが出来ると思います。","href":null}],"color":"default"}},{"object":"block","id":"c10d593c-140b-4573-9a62-ba60d3d40679","parent":{"type":"page_id","page_id":"0ac62654-ea0a-4d98-8a5f-a646b4a5e964"},"created_time":"2022-12-31T16:37:00.000Z","last_edited_time":"2022-12-31T16:37:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"実際に実装したリポジトリなどは公開していないのでお見せ出来ないんですが、何か質問やまさかりなどあれば ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"実際に実装したリポジトリなどは公開していないのでお見せ出来ないんですが、何か質問やまさかりなどあれば ","href":null},{"type":"text","text":{"content":"shuta","link":{"url":"https://twitter.com/did0es"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"shuta","href":"https://twitter.com/did0es"},{"type":"text","text":{"content":" までお願いします。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" までお願いします。","href":null}],"color":"default"}}]}},"prevEntry":{"head":{"slug":"rest-watch-movies","tags":["diary"],"created":"2022-12-31T16:30:00.000Z","updated":"2023-01-04T06:34:00.000Z","title":"毎週映画を見る時間を取るようになった","coverImageUrl":null},"body":{"content":[{"object":"block","id":"65ee82af-560a-43e9-b736-26d334b8fc9d","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"table_of_contents","table_of_contents":{"color":"gray"}},{"object":"block","id":"077f87ac-8167-4ce3-a124-16f949edd36c","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2023-01-02T13:46:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"heading_1","heading_1":{"rich_text":[{"type":"text","text":{"content":"背景","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"背景","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"bff4e814-b860-4cae-8554-15790f28d4db","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"最近意図的に映画を見る時間を取っている。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"最近意図的に映画を見る時間を取っている。","href":null}],"color":"default"}},{"object":"block","id":"676e4e93-ad45-49b0-a779-107c5c47e8ff","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"映画を無性に見たくなったからというわけではなく、人の話についていきたいから倍速で見ることもなく、映画を見ている間は別のことをやらない時間にして強制的に休息を取るために始めた。本を読んだりゲームで発散したり、趣味でなにか作るとかでも良かったが、あまり集中しなくても出来ることを選んだ。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"映画を無性に見たくなったからというわけではなく、人の話についていきたいから倍速で見ることもなく、映画を見ている間は別のことをやらない時間にして強制的に休息を取るために始めた。本を読んだりゲームで発散したり、趣味でなにか作るとかでも良かったが、あまり集中しなくても出来ることを選んだ。","href":null}],"color":"default"}},{"object":"block","id":"ac803b09-321b-4ae8-b37f-c18ac5ae9d9b","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"というのも去年の冬ぐらいに受けていた仕事でオーバーワーク気味になり、精神的に参っていた時期があったためそれの解消を図った。毎日休日込みで長時間作業していると他のことが手につかないのもあるが、好きでやっていたコードを書くことが嫌いになりかけたのが1番つらかった。時間がない・タスク山積み・非同期的なコミュニケーションで毎日問題が発生(これが1番デカい)の三重苦で、常に緊張した感じが続いており、コードを書くことを楽しむみたいな気持ちがどこかへいってしまった。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"というのも去年の冬ぐらいに受けていた仕事でオーバーワーク気味になり、精神的に参っていた時期があったためそれの解消を図った。毎日休日込みで長時間作業していると他のことが手につかないのもあるが、好きでやっていたコードを書くことが嫌いになりかけたのが1番つらかった。時間がない・タスク山積み・非同期的なコミュニケーションで毎日問題が発生(これが1番デカい)の三重苦で、常に緊張した感じが続いており、コードを書くことを楽しむみたいな気持ちがどこかへいってしまった。","href":null}],"color":"default"}},{"object":"block","id":"855ef2b0-a193-40fa-96c4-5deee773eedb","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"楽しさを求めてやっていると言うと「仕事をなめるな！」って言われそうだが、自身の行動の原動力がそれなので失うと非常に困った。技術を追う気力もそこから出てくるので、しばらくインターネットすら開きたくない、みたいな状態になっていて(Slack と Gitlab 以外本当に開いていなかった)結構まずかった。紆余曲折あり今年になってようやく落ち着いて他のことを考えられるようになったので、時間を捻出してでも余裕を持って動こうという感じになった。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"楽しさを求めてやっていると言うと「仕事をなめるな！」って言われそうだが、自身の行動の原動力がそれなので失うと非常に困った。技術を追う気力もそこから出てくるので、しばらくインターネットすら開きたくない、みたいな状態になっていて(Slack と Gitlab 以外本当に開いていなかった)結構まずかった。紆余曲折あり今年になってようやく落ち着いて他のことを考えられるようになったので、時間を捻出してでも余裕を持って動こうという感じになった。","href":null}],"color":"default"}},{"object":"block","id":"7493eb27-9469-4051-9cf0-04aa90a0b17c","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"結果まとまった時間を別のことに使う前提で予定を組むと、精神的に余裕が出たのでかなり良かった。追い込まれながら作業するのもハードトレーニングみたく、成長を促すのには必要なときもあるが、やりすぎると心身に悪い影響が出るので適度に抑えた方が良いと思う。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"結果まとまった時間を別のことに使う前提で予定を組むと、精神的に余裕が出たのでかなり良かった。追い込まれながら作業するのもハードトレーニングみたく、成長を促すのには必要なときもあるが、やりすぎると心身に悪い影響が出るので適度に抑えた方が良いと思う。","href":null}],"color":"default"}},{"object":"block","id":"c2622055-6914-46fc-a9dc-2c1219d7d213","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"なにより楽しむ気持ちが戻ってきたのが1番安心した。あと日頃映画を見に行く習慣がほぼなかったので、異文化交流みたいな感じで色んなものに触れられたのも新鮮で良かった。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"なにより楽しむ気持ちが戻ってきたのが1番安心した。あと日頃映画を見に行く習慣がほぼなかったので、異文化交流みたいな感じで色んなものに触れられたのも新鮮で良かった。","href":null}],"color":"default"}},{"object":"block","id":"4d77dd84-b855-4190-8055-5a79d5fe29fb","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"以下見た映画に対して感じたことや思ったことをまとめておく。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"以下見た映画に対して感じたことや思ったことをまとめておく。","href":null}],"color":"default"}},{"object":"block","id":"e2a58316-ca30-400a-b50c-9a948f8d3d49","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2023-01-02T13:46:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"heading_1","heading_1":{"rich_text":[{"type":"text","text":{"content":"最近見た映画","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"最近見た映画","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"933c8668-0c79-42b9-b9b1-5f5ce2942fd1","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"Netflix か Prime Video に上がっている洋画を字幕付きで見ていた。ついでに英語力上げるぞ〜とか思って最初は字幕付けてなかったが、疲れてすぐに付いているのに変えた。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Netflix か Prime Video に上がっている洋画を字幕付きで見ていた。ついでに英語力上げるぞ〜とか思って最初は字幕付けてなかったが、疲れてすぐに付いているのに変えた。","href":null}],"color":"default"}},{"object":"block","id":"1ebd545c-cfff-4db0-906e-3dec579a8dc6","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2023-01-02T13:46:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"インセプション","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"インセプション","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"bb969ea3-4dca-48ab-9806-d214de921a16","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"前情報なしで見ていたがレオナルド・ディカプリオとか渡辺謙、あとダークナイトのロビンの人(名前忘れた)が出てて、もしかしてかなり有名なやつ？ってなった、有名っぽい。前半折り返すぐらいまでずっと渡辺謙が悪役だと思っていた。あとヒロインが友達に似ててそればっかり気になった。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"前情報なしで見ていたがレオナルド・ディカプリオとか渡辺謙、あとダークナイトのロビンの人(名前忘れた)が出てて、もしかしてかなり有名なやつ？ってなった、有名っぽい。前半折り返すぐらいまでずっと渡辺謙が悪役だと思っていた。あとヒロインが友達に似ててそればっかり気になった。","href":null}],"color":"default"}},{"object":"block","id":"a29881fb-d5f6-41e3-ba07-4023b14d3a0e","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"冒頭で迫真の日本語が聞こえてくるので一瞬間違って吹替版を見ているのかと思った。お使いの設定は正常です。見始めると渡辺謙の英語がかなり流暢で羨ましくなった。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"冒頭で迫真の日本語が聞こえてくるので一瞬間違って吹替版を見ているのかと思った。お使いの設定は正常です。見始めると渡辺謙の英語がかなり流暢で羨ましくなった。","href":null}],"color":"default"}},{"object":"block","id":"398195d2-4844-45bd-adcc-0bfbde5f9fc5","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"映画としてはアクションシーン多めSF。基本夢の中の話なのですごい形になった建物とかが出てきて、耐震基準考慮なしで設計するの楽しいだろうなと思った。夢の中でやりたい放題するみたいなのはよくあるけど、現実と区別がつかなくなってくるみたいな描写がよかった。はじめはやらかしたらおしまいみたいな緊迫したシチュエーションだが、結局色々やらかして後半面白くなっていく。自分も夢でやりたい放題するときはトーテム用意しようと思う。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"映画としてはアクションシーン多めSF。基本夢の中の話なのですごい形になった建物とかが出てきて、耐震基準考慮なしで設計するの楽しいだろうなと思った。夢の中でやりたい放題するみたいなのはよくあるけど、現実と区別がつかなくなってくるみたいな描写がよかった。はじめはやらかしたらおしまいみたいな緊迫したシチュエーションだが、結局色々やらかして後半面白くなっていく。自分も夢でやりたい放題するときはトーテム用意しようと思う。","href":null}],"color":"default"}},{"object":"block","id":"8842caef-9d25-4fec-946b-5d3b6894d08d","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2023-01-02T13:46:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"インターステラー","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"インターステラー","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"093aafd2-ea3e-465c-b328-d40e9fc5d547","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"SFもの。アルマゲドンみたいな感じかと思っていたが、まさかのサスペンス要素がある。ただのSFだとウケないのでSFも色々進化してきたっぽい。SFと同時に家族の愛情を描いた(かなり主人公が不憫な)作品でもあるので、将来また見返したら面白いのかもなとも思う。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"SFもの。アルマゲドンみたいな感じかと思っていたが、まさかのサスペンス要素がある。ただのSFだとウケないのでSFも色々進化してきたっぽい。SFと同時に家族の愛情を描いた(かなり主人公が不憫な)作品でもあるので、将来また見返したら面白いのかもなとも思う。","href":null}],"color":"default"}},{"object":"block","id":"791a4fb8-d982-458c-97cc-665000d1ccf9","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"人間が知らない想像を超えた部分がテーマなので、結構ダイナミックな描写が多い。1個目の惑星のデカい津波のシーンとか、自分がその場にいたら相当パニックになって固まりそう。まあどの星にいってもそれなりにパニックになるとは思う。惑星での1時間が地球上では何10年に相当するし。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"人間が知らない想像を超えた部分がテーマなので、結構ダイナミックな描写が多い。1個目の惑星のデカい津波のシーンとか、自分がその場にいたら相当パニックになって固まりそう。まあどの星にいってもそれなりにパニックになるとは思う。惑星での1時間が地球上では何10年に相当するし。","href":null}],"color":"default"}},{"object":"block","id":"01bd27aa-34e6-49f4-80a5-4e3eb8f516fd","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"途中主人公がブラックホールに突っ込んでからは抽象的な話が続くが、前半の謎の描写の答え合わせになっている。5次元なので何でもアリらしい。どう終わるかなと思っていたけど、割ときれいに幕引きされたのであと残りなくてよかった。多分あの準ヒロインみたいな博士は助かる。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"途中主人公がブラックホールに突っ込んでからは抽象的な話が続くが、前半の謎の描写の答え合わせになっている。5次元なので何でもアリらしい。どう終わるかなと思っていたけど、割ときれいに幕引きされたのであと残りなくてよかった。多分あの準ヒロインみたいな博士は助かる。","href":null}],"color":"default"}},{"object":"block","id":"8b171fa2-a1db-4585-a4e6-693bb71a0f0c","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"気になったところとして人が住めるほどのコロニーを作るのって、人間が滅びかけの状況だとほぼ不可能に近くないかと思う、単純に人手が足りなそう。無人機にやらせるのかな、建築別に詳しくないのでただの憶測だけど。あと地球から離れることになるので、相応の発電設備とか水とかを確保する仕組みが無いと、コロニーが作り上がったとしても永住は出来なさそう。作品の中では特に触れられていないので、まあ当然のごとく出来る仕組みはあるっぽい。原子力か反物質使った何かかな。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"気になったところとして人が住めるほどのコロニーを作るのって、人間が滅びかけの状況だとほぼ不可能に近くないかと思う、単純に人手が足りなそう。無人機にやらせるのかな、建築別に詳しくないのでただの憶測だけど。あと地球から離れることになるので、相応の発電設備とか水とかを確保する仕組みが無いと、コロニーが作り上がったとしても永住は出来なさそう。作品の中では特に触れられていないので、まあ当然のごとく出来る仕組みはあるっぽい。原子力か反物質使った何かかな。","href":null}],"color":"default"}},{"object":"block","id":"b04ce49e-9566-4432-aee1-4258da852710","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"他に宇宙飛行士とそのサポートをするロボットの会話が面白かった。僕も最後の最後まで軽口を叩いて終わっていきたい。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"他に宇宙飛行士とそのサポートをするロボットの会話が面白かった。僕も最後の最後まで軽口を叩いて終わっていきたい。","href":null}],"color":"default"}},{"object":"block","id":"ff054654-bf15-4a88-b0ed-76022180d092","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2023-01-02T13:46:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"オーシャンズ シリーズ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"オーシャンズ シリーズ","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"80a3dae9-d41f-4f59-acd9-53ed4d7f47f5","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"シリーズが 11 から始まるのを知らなくて、8 から先に見ようとして危なかった。とりあえず11 → 12 → 13 → 8で見た。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"シリーズが 11 から始まるのを知らなくて、8 から先に見ようとして危なかった。とりあえず11 → 12 → 13 → 8で見た。","href":null}],"color":"default"}},{"object":"block","id":"21495bca-1f14-44d3-8693-e265d32a2463","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"強盗しながらほぼ常に何か口の中にいれてもぐもぐしているブラッド・ピットを見る映画。もの食ってるだけでかっこいいブラッド・ピットずるすぎる。他にジョージ・クルーニーなど、ろくに洋画見ていない自分でも知っている人が出てきた。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"強盗しながらほぼ常に何か口の中にいれてもぐもぐしているブラッド・ピットを見る映画。もの食ってるだけでかっこいいブラッド・ピットずるすぎる。他にジョージ・クルーニーなど、ろくに洋画見ていない自分でも知っている人が出てきた。","href":null}],"color":"default"}},{"object":"block","id":"42aaf6dc-0335-4cd1-a8fd-d773ae951a4d","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"強盗といっても銃撃戦みたいなのはほぼなく、ルパンの次元五右衛門抜きみたいな感じ。とにかく考えてものを盗む。盗む目的も金を荒稼ぎ！みたいな動機だけではなく、盗む計画を立てることを楽しんでいる感じがする。どの回見てもおもしれーってなるけど自分は 11 が好き。なおオーシャンズ8はほとんど違う作品になっているので注意、もぐもぐするブラピは見れなかったのでちょっと残念。でもアン・ハサウェイがめちゃくちゃ目の保養になったのでなんでもいいです。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"強盗といっても銃撃戦みたいなのはほぼなく、ルパンの次元五右衛門抜きみたいな感じ。とにかく考えてものを盗む。盗む目的も金を荒稼ぎ！みたいな動機だけではなく、盗む計画を立てることを楽しんでいる感じがする。どの回見てもおもしれーってなるけど自分は 11 が好き。なおオーシャンズ8はほとんど違う作品になっているので注意、もぐもぐするブラピは見れなかったのでちょっと残念。でもアン・ハサウェイがめちゃくちゃ目の保養になったのでなんでもいいです。","href":null}],"color":"default"}},{"object":"block","id":"caef2700-19bb-4a9b-8d92-9492428f55a4","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2023-01-02T13:46:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"シャーロック・ホームズ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"シャーロック・ホームズ","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"01c3af69-e093-4c24-82b0-9400852f3318","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"昔小説で読んだような気がしていたが忘れたのでほぼ初見だった。1作目はワトソンとシャーロックの連携の取れた謎解きが見れるが、2作目からはシャーロックが廃人になる(ワトソンとグダグダ連携謎解きはやっている)ので純粋にワトソンが大変そう。後半で復活する。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"昔小説で読んだような気がしていたが忘れたのでほぼ初見だった。1作目はワトソンとシャーロックの連携の取れた謎解きが見れるが、2作目からはシャーロックが廃人になる(ワトソンとグダグダ連携謎解きはやっている)ので純粋にワトソンが大変そう。後半で復活する。","href":null}],"color":"default"}},{"object":"block","id":"1d058c2e-c6e4-48c8-8cc4-931b376b5be6","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"探偵もので謎解きがメインの印象があったが、映像化すると結構派手でアクションとしても映えるんだなと思った。分類するとコメディのジャンルにも属する気がする。機関銃にシャーロックがパクってきた口紅入れたりするし。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"探偵もので謎解きがメインの印象があったが、映像化すると結構派手でアクションとしても映えるんだなと思った。分類するとコメディのジャンルにも属する気がする。機関銃にシャーロックがパクってきた口紅入れたりするし。","href":null}],"color":"default"}},{"object":"block","id":"7c8484e8-8892-4fa3-96c3-ca7d13341d33","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"1作目か2作目か忘れたけど、どちらかで出てきた「闇の力〜」とか言ってた独裁者崩れみたいなのが痛くてよかった。ちょっと時代設定が古いから魔法(科学)使いみたいな立ち位置なのかな。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"1作目か2作目か忘れたけど、どちらかで出てきた「闇の力〜」とか言ってた独裁者崩れみたいなのが痛くてよかった。ちょっと時代設定が古いから魔法(科学)使いみたいな立ち位置なのかな。","href":null}],"color":"default"}},{"object":"block","id":"5c844e69-5dc2-4fcb-a2a5-573bfb4d3c67","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"まだドラマシリーズ見ていないので完結してそうだったら見る。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"まだドラマシリーズ見ていないので完結してそうだったら見る。","href":null}],"color":"default"}},{"object":"block","id":"805ea738-f1dc-486c-ac36-9fa364dd11f2","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2023-01-02T13:46:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"ジョン・ウィック","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"ジョン・ウィック","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"9bb905c1-0ae6-4aee-a45f-95a6aac5c42c","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"圧倒的な弾数でどうにかするタイプのキアヌ・リーブス。ジャンルとしてはアクションがメイン？ヤクザ映画みたいなのとはちょっと違うと思う。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"圧倒的な弾数でどうにかするタイプのキアヌ・リーブス。ジャンルとしてはアクションがメイン？ヤクザ映画みたいなのとはちょっと違うと思う。","href":null}],"color":"default"}},{"object":"block","id":"7888cf63-4cc1-4d08-a546-ee3a4e3c60d7","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"マトリックスみたいに弾は避けない(そもそもほぼ当たらない)、当たる時はだいたい脇腹に食らう、痛そう。モブの弾が本当に当たらないので、多分主要人物以外銃のバレルが曲がっているんだと思う。とにかくキアヌ・リーブスの銃撃戦が見たい！って人におすすめ。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"マトリックスみたいに弾は避けない(そもそもほぼ当たらない)、当たる時はだいたい脇腹に食らう、痛そう。モブの弾が本当に当たらないので、多分主要人物以外銃のバレルが曲がっているんだと思う。とにかくキアヌ・リーブスの銃撃戦が見たい！って人におすすめ。","href":null}],"color":"default"}},{"object":"block","id":"efd0235a-939b-4348-aaa3-90ca6e77652b","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"復讐の復讐みたいな感じで次の作品に続いていくので雪だるま式に敵が増えていく。3作目(パラベラム)の掟に歯向かった後に出てくる寿司屋がめちゃくちゃ強い、でも増えた敵は全部倒す。なんだかんだ今年新作が出るらしいのでちょっと楽しみにしている。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"復讐の復讐みたいな感じで次の作品に続いていくので雪だるま式に敵が増えていく。3作目(パラベラム)の掟に歯向かった後に出てくる寿司屋がめちゃくちゃ強い、でも増えた敵は全部倒す。なんだかんだ今年新作が出るらしいのでちょっと楽しみにしている。","href":null}],"color":"default"}},{"object":"block","id":"23836634-22b9-479c-a423-5f8c1e940e3c","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2023-01-02T13:46:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"天使と悪魔","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"天使と悪魔","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"785add9c-ee23-4990-9266-d0de5293b574","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"1作目がダ・ヴィンチ・コードらしい、これ見た後に知った。ダ・ヴィンチ・コードは多分みたことあるけど覚えてなかった、けど普通に楽しめた。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"1作目がダ・ヴィンチ・コードらしい、これ見た後に知った。ダ・ヴィンチ・コードは多分みたことあるけど覚えてなかった、けど普通に楽しめた。","href":null}],"color":"default"}},{"object":"block","id":"0e806145-f5f8-42f9-b6ef-2ee061c8cf88","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"ミステリーにSF(科学)・宗教を突っ込んだ何でもアリ作品。本当にバチカン市国で撮影していたっぽくて、あの面積淡路島の国にめちゃくちゃ教会が存在するんだなと思った。バチカンの風景キレイだなーと思っていると、急に残忍なシーンが出てくるので油断できない。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"ミステリーにSF(科学)・宗教を突っ込んだ何でもアリ作品。本当にバチカン市国で撮影していたっぽくて、あの面積淡路島の国にめちゃくちゃ教会が存在するんだなと思った。バチカンの風景キレイだなーと思っていると、急に残忍なシーンが出てくるので油断できない。","href":null}],"color":"default"}},{"object":"block","id":"bd04825b-e0dd-41a6-8b37-ad354a42752b","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"SF要素として何故か反物質が出てくる。後々教会との関わりで、科学側の教会(宗教)への報復としてとりあえず爆発させようとしてくる。ラストは正義マンです！みたいなやつがダークナイトよろしく空に反物質爆弾持っていって爆発、なぜか助かるところまでダークナイトと同じで面白かった。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"SF要素として何故か反物質が出てくる。後々教会との関わりで、科学側の教会(宗教)への報復としてとりあえず爆発させようとしてくる。ラストは正義マンです！みたいなやつがダークナイトよろしく空に反物質爆弾持っていって爆発、なぜか助かるところまでダークナイトと同じで面白かった。","href":null}],"color":"default"}},{"object":"block","id":"9328f95f-9ce6-425a-aef4-390e4a86d27e","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"インフェルノが続編なので近々見ようと思っている。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"インフェルノが続編なので近々見ようと思っている。","href":null}],"color":"default"}},{"object":"block","id":"dba8756b-f683-42b3-a822-f88342d0bb8e","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2023-01-02T13:46:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"パラサイト","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"パラサイト","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"16bb38f3-914c-4164-98f8-5b6b5aab78bf","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"最近見た中で1番面白かった。場面がサクサク切り替わって進んで行くにつれて、渦中の家族が狂っていくのがよかった。家庭教師の長男と生徒の恋愛があんなにサクサク進むものかなとは思ったけど、あれぐらいテンポよく進むと見やすい。計画を立ててうまくいって、調子に乗ってやらかす展開がきれいに起承転結って感じなのもよかった。ラスト手前の地下から無敵の人が出てきて、全ておしまいです！という感じが潔い。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"最近見た中で1番面白かった。場面がサクサク切り替わって進んで行くにつれて、渦中の家族が狂っていくのがよかった。家庭教師の長男と生徒の恋愛があんなにサクサク進むものかなとは思ったけど、あれぐらいテンポよく進むと見やすい。計画を立ててうまくいって、調子に乗ってやらかす展開がきれいに起承転結って感じなのもよかった。ラスト手前の地下から無敵の人が出てきて、全ておしまいです！という感じが潔い。","href":null}],"color":"default"}},{"object":"block","id":"111b7e67-77c2-4bd8-9f6f-f36bc1b85938","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"韓国の作品は触れるとしても最近の音楽ぐらいしかなかったが、映画もかなり押していて勢いがあるなと感じた。映画内の演出だと富豪と貧民の対比が地上と半地下以外にも、カメラワークとか家族の位置関係で表現されている場面があって、細かいところまで手が込んでいるなと思った。映画ポスターのデザインも大胆で日本っぽくなかった(日本版のポスターでは日本の映画ポスターです、になってしまったけど)のもよかった。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"韓国の作品は触れるとしても最近の音楽ぐらいしかなかったが、映画もかなり押していて勢いがあるなと感じた。映画内の演出だと富豪と貧民の対比が地上と半地下以外にも、カメラワークとか家族の位置関係で表現されている場面があって、細かいところまで手が込んでいるなと思った。映画ポスターのデザインも大胆で日本っぽくなかった(日本版のポスターでは日本の映画ポスターです、になってしまったけど)のもよかった。","href":null}],"color":"default"}},{"object":"block","id":"b29eaec8-d7d3-4a4e-b068-92bacbbcd3ce","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"あとはスイスの民家に核シェルターが搭載されている話は有名だが、韓国でも似たようなものを持っている層もいるんだと思った。そして大体ワインセラーとか知らない人の住処(?)とかになっている、平和は良いですね。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"あとはスイスの民家に核シェルターが搭載されている話は有名だが、韓国でも似たようなものを持っている層もいるんだと思った。そして大体ワインセラーとか知らない人の住処(?)とかになっている、平和は良いですね。","href":null}],"color":"default"}},{"object":"block","id":"8d49979d-bdbf-4b31-a571-223c85ccdad3","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2023-01-02T13:46:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"マトリックス","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"マトリックス","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"2cfb6bd9-f025-47e3-a548-6cfc1ecba194","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"主演の好青年がキアヌ・リーブス。本当に？ってなるぐらい好青年。背中床すれすれで弾を避ける例の作品。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"主演の好青年がキアヌ・リーブス。本当に？ってなるぐらい好青年。背中床すれすれで弾を避ける例の作品。","href":null}],"color":"default"}},{"object":"block","id":"6e7a6e94-ec4d-4b7e-a5dc-7b762665240f","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:36:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"キアヌ・リーブスは銃撃ちまくっている印象が強かったが、マトリックスでは割と武道にも打ち込んでいる印象だった。ラスト付近は強くてニューゲームみたいになるので、何でもアリなキアヌ・リーブスが無双する(ので、1作目以外は見ていない...展開の予想がつくので気が向けば見る)。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"キアヌ・リーブスは銃撃ちまくっている印象が強かったが、マトリックスでは割と武道にも打ち込んでいる印象だった。ラスト付近は強くてニューゲームみたいになるので、何でもアリなキアヌ・リーブスが無双する(ので、1作目以外は見ていない...展開の予想がつくので気が向けば見る)。","href":null}],"color":"default"}},{"object":"block","id":"03ade002-f282-48b6-bf86-116971d7232f","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"大学の教授がなにかと授業のネタに使うので、ほぼネタバレされた状態で見ることになったがそれでも面白かった。だいたい自分が生まれたぐらいの時代に作られた映画なので、ガラケーがバリバリ現役でやっていて感動した。他に未来の発明みたいな感じで、侵襲性のある BCI みたいなデバイスが出てくるが、脳に挿して抜いて繰り返すので衛生面大丈夫か心配だった。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"大学の教授がなにかと授業のネタに使うので、ほぼネタバレされた状態で見ることになったがそれでも面白かった。だいたい自分が生まれたぐらいの時代に作られた映画なので、ガラケーがバリバリ現役でやっていて感動した。他に未来の発明みたいな感じで、侵襲性のある BCI みたいなデバイスが出てくるが、脳に挿して抜いて繰り返すので衛生面大丈夫か心配だった。","href":null}],"color":"default"}},{"object":"block","id":"76a74cbe-9656-4201-a2e7-651ff7d7a36d","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"また作中で EMP が出てくるが、手に持って投げる爆弾ではなく思いっきり船から放出みたいな形だったので豪快だった。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"また作中で EMP が出てくるが、手に持って投げる爆弾ではなく思いっきり船から放出みたいな形だったので豪快だった。","href":null}],"color":"default"}},{"object":"block","id":"b720252c-01ba-4d63-9b6b-03ca6880918e","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2023-01-02T13:46:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"heading_1","heading_1":{"rich_text":[{"type":"text","text":{"content":"おわりに","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"おわりに","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"c5580a04-68bb-46a1-ae41-33233848c4fa","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"週1 ~ 2ぐらいの頻度で映画見て休息を取るのおすすめです、目が疲れるけど。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"週1 ~ 2ぐらいの頻度で映画見て休息を取るのおすすめです、目が疲れるけど。","href":null}],"color":"default"}},{"object":"block","id":"f8a8d16e-75c8-42a7-a772-38b3ee4ea7b0","parent":{"type":"page_id","page_id":"7ee85fa0-bc97-4c79-af60-8c146fecde85"},"created_time":"2022-12-31T16:30:00.000Z","last_edited_time":"2022-12-31T16:30:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"見たものを言語化しておきたいためにこの記事を書いたのでまた更新するかもしれない。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"見たものを言語化しておきたいためにこの記事を書いたのでまた更新するかもしれない。","href":null}],"color":"default"}}]}},"nextEntry":{"head":{"slug":"template-react-twgl-js","tags":["engineering"],"created":"2022-12-31T16:42:00.000Z","updated":"2023-01-04T06:36:00.000Z","title":"あらゆるものから逃げるReact+WebGLテンプレートを作った","coverImageUrl":null},"body":{"content":[{"object":"block","id":"b6aea1c2-e4a3-4f56-a35d-ba97815945c7","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"table_of_contents","table_of_contents":{"color":"gray"}},{"object":"block","id":"dc0a2cbc-7fcb-4d4e-acd6-4ad581bf9cd0","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"React+WebGL で SPA の何かしらを作る際のテンプレートを作りました。あらゆるものから逃げます。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"React+WebGL で SPA の何かしらを作る際のテンプレートを作りました。あらゆるものから逃げます。","href":null}],"color":"default"}},{"object":"block","id":"63a90360-8a04-4eb5-961d-e6fd96a23926","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2023-01-04T06:35:00.000Z","last_edited_time":"2023-01-04T06:36:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"image","image":{"caption":[{"type":"text","text":{"content":"プレビューのトップページ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"プレビューのトップページ","href":null}],"type":"file","file":{"url":"https://s3.us-west-2.amazonaws.com/secure.notion-static.com/4ce575f1-4172-4bba-8a4d-3245e881d950/react-twgl.png?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Content-Sha256=UNSIGNED-PAYLOAD&X-Amz-Credential=AKIAT73L2G45EIPT3X45%2F20230108%2Fus-west-2%2Fs3%2Faws4_request&X-Amz-Date=20230108T071853Z&X-Amz-Expires=3600&X-Amz-Signature=7681f34641a2db1036f2a25ea1ef5aabe53779d38fcf1e390a07ab8ccf02000b&X-Amz-SignedHeaders=host&x-id=GetObject","expiry_time":"2023-01-08T08:18:53.782Z"}}},{"object":"block","id":"756a413d-eda1-44f0-8748-990b9a3946e8","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2023-01-04T06:35:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"リポジトリは","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"リポジトリは","href":null},{"type":"text","text":{"content":"こちら","link":{"url":"https://github.com/shuta13/react-twgl-boilerplate"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"こちら","href":"https://github.com/shuta13/react-twgl-boilerplate"},{"type":"text","text":{"content":"。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"。","href":null}],"color":"default"}},{"object":"block","id":"1f2d730a-9c9e-43a5-b882-be6f518a5d0b","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2023-01-04T06:35:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"Netlify にプレビュー放り投げたのでこちらもどうぞ。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Netlify にプレビュー放り投げたのでこちらもどうぞ。","href":null}],"color":"default"}},{"object":"block","id":"9c597469-f991-4a9a-a5d9-7d4c3dbd17a1","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"https://did0es-react-twgl-boilerplate.netlify.app","link":{"url":"https://did0es-react-twgl-boilerplate.netlify.app/"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"https://did0es-react-twgl-boilerplate.netlify.app","href":"https://did0es-react-twgl-boilerplate.netlify.app/"}],"color":"default"}},{"object":"block","id":"f88f8331-6323-49b6-8037-641240942ae9","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2023-01-02T13:47:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"heading_1","heading_1":{"rich_text":[{"type":"text","text":{"content":"構成","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"構成","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"60bd02b4-ce50-4668-b121-87d0e4bbbfe9","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"React を使いつつ、CRA を使わず webpack のコンフィグを書いています(どうせ eject するので webpack から書いた)。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"React を使いつつ、CRA を使わず webpack のコンフィグを書いています(どうせ eject するので webpack から書いた)。","href":null}],"color":"default"}},{"object":"block","id":"2eeba0f1-e080-4d99-bd6c-86d0adea4185","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"React (17.x)","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"React (17.x)","href":null}],"color":"default"}},{"object":"block","id":"de206faa-e338-4532-9942-8f09ccae3e7f","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"Webpack (5.x)","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Webpack (5.x)","href":null}],"color":"default"}},{"object":"block","id":"6c0202b4-33a8-46d1-92a7-66c486c8c83f","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"Babel (17.x)","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Babel (17.x)","href":null}],"color":"default"}},{"object":"block","id":"dc4ea7c3-d8ab-4f52-9e30-30634fbd7dac","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"TypeScript (4.x)","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"TypeScript (4.x)","href":null}],"color":"default"}},{"object":"block","id":"59c2274b-3eb5-4c77-b328-c770b3ad4311","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"Linaria","link":{"url":"https://github.com/callstack/linaria#readme"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Linaria","href":"https://github.com/callstack/linaria#readme"},{"type":"text","text":{"content":" (2.x)","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" (2.x)","href":null}],"color":"default"}},{"object":"block","id":"33b2637a-fc99-44ab-ab5f-39031f01964f","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"Universal Router","link":{"url":"https://github.com/kriasoft/universal-router#readme"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Universal Router","href":"https://github.com/kriasoft/universal-router#readme"},{"type":"text","text":{"content":" (9.x)","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" (9.x)","href":null}],"color":"default"}},{"object":"block","id":"f2ae922c-b9cb-47d3-aa0b-b86086fe4bbd","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"TWGL.js","link":{"url":"https://github.com/greggman/twgl.js#readme"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"TWGL.js","href":"https://github.com/greggman/twgl.js#readme"},{"type":"text","text":{"content":" (4.x)","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" (4.x)","href":null}],"color":"default"}},{"object":"block","id":"e82e5004-ae7b-4657-ad26-629fa5006cab","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2023-01-02T13:47:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"heading_1","heading_1":{"rich_text":[{"type":"text","text":{"content":"何から逃げたのか","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"何から逃げたのか","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"f81db6c8-def2-4547-af27-e37535413dc4","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"まず前提として純粋なSPAを作りたいと思ったので、 Next.js は使わない方針でいきました。  Next.js は SSG/SSR するときの踏み台にしたい気持ちがあります。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"まず前提として純粋なSPAを作りたいと思ったので、 Next.js は使わない方針でいきました。  Next.js は SSG/SSR するときの踏み台にしたい気持ちがあります。","href":null}],"color":"default"}},{"object":"block","id":"41f79005-fa27-4289-86a8-1e68e4cf134a","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"以下のものから逃げました。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"以下のものから逃げました。","href":null}],"color":"default"}},{"object":"block","id":"70a0b022-0f24-4cda-b8cc-37df4cd33cd3","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":true,"archived":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"react-router","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"react-router","href":null}],"color":"default"}},{"object":"block","id":"b37f08f0-1c73-4aa1-9844-f8aae963a673","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":true,"archived":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"three.js","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"three.js","href":null}],"color":"default"}},{"object":"block","id":"ab38d27d-e3c2-4701-a347-9e74193027b2","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":true,"archived":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"CSS Modules, styled-component","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"CSS Modules, styled-component","href":null}],"color":"default"}},{"object":"block","id":"f6a38cca-d720-4089-a34e-4cbafea296d4","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2023-01-02T13:47:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"heading_1","heading_1":{"rich_text":[{"type":"text","text":{"content":"逃げた理由","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"逃げた理由","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"c8774cfd-84d1-4c88-a79f-9720da308214","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2023-01-02T13:47:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"react-router","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"react-router","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"8f59e92c-143b-4d15-9fd9-8456b9404974","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"react-rouer は使う時に手の届かないところがあるとか、破壊的変更を繰り返しているのでついて行くのに疲れたからといった感じです。あとは universal-router を試してみたかった気持ちもあります。SPA でページ遷移を表現するには history とか location 周辺を自分で書く必要があるので、そういった部分の学びになりました。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"react-rouer は使う時に手の届かないところがあるとか、破壊的変更を繰り返しているのでついて行くのに疲れたからといった感じです。あとは universal-router を試してみたかった気持ちもあります。SPA でページ遷移を表現するには history とか location 周辺を自分で書く必要があるので、そういった部分の学びになりました。","href":null}],"color":"default"}},{"object":"block","id":"83198e66-8ad5-458d-8b1d-b567f73d538c","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"完成したものが以下のリンクから見れます。isomorphic さはそこまで求めていなかったのですが、path-to-regexp でかなりシンプルな Router ということで使い勝手が良さそうというのが所感です。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"完成したものが以下のリンクから見れます。isomorphic さはそこまで求めていなかったのですが、path-to-regexp でかなりシンプルな Router ということで使い勝手が良さそうというのが所感です。","href":null}],"color":"default"}},{"object":"block","id":"eb02148a-9072-4b1e-82ec-e802b1e9f9bb","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"react-twgl-boilerplate/src/routes","link":{"url":"https://github.com/shuta13/react-twgl-boilerplate/tree/main/src/routes"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"react-twgl-boilerplate/src/routes","href":"https://github.com/shuta13/react-twgl-boilerplate/tree/main/src/routes"}],"color":"default"}},{"object":"block","id":"562bfbd9-389e-4739-b931-283ca32d0df7","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2023-01-02T13:47:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"three.js","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"three.js","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"b2d64a5d-2cc3-4b1d-8d8d-20d53fa497f6","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"以下のように非常に苦しみました。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"以下のように非常に苦しみました。","href":null}],"color":"default"}},{"object":"block","id":"38bffe31-1045-41a3-b42c-292c1361be36","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"<blockquote class=\"twitter-tweet\"><p lang=\"und\" dir=\"ltr\">... <a href=\"","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"<blockquote class=\"twitter-tweet\"><p lang=\"und\" dir=\"ltr\">... <a href=\"","href":null},{"type":"text","text":{"content":"https://t.co/0q4W6PPK3K","link":{"url":"https://t.co/0q4W6PPK3K"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"https://t.co/0q4W6PPK3K","href":"https://t.co/0q4W6PPK3K"},{"type":"text","text":{"content":"\">","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"\">","href":null},{"type":"text","text":{"content":"pic.twitter.com/0q4W6PPK3K","link":{"url":"http://pic.twitter.com/0q4W6PPK3K"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"pic.twitter.com/0q4W6PPK3K","href":"http://pic.twitter.com/0q4W6PPK3K"},{"type":"text","text":{"content":"</a></p>— Shuta (@did0es) <a href=\"","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"</a></p>— Shuta (@did0es) <a href=\"","href":null},{"type":"text","text":{"content":"https://twitter.com/did0es/status/1355506728507371520?ref_src=twsrc^tfw","link":{"url":"https://twitter.com/did0es/status/1355506728507371520?ref_src=twsrc%5Etfw"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"https://twitter.com/did0es/status/1355506728507371520?ref_src=twsrc^tfw","href":"https://twitter.com/did0es/status/1355506728507371520?ref_src=twsrc%5Etfw"},{"type":"text","text":{"content":"\">January 30, 2021</a></blockquote>","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"\">January 30, 2021</a></blockquote>","href":null}],"color":"default"}},{"object":"block","id":"59821e75-ebd5-4776-bbef-cc7319e158ca","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"バンドルサイズを減らそうと思ったのですが tree shaking がまともに出来ない","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":true,"underline":false,"code":false,"color":"default"},"plain_text":"バンドルサイズを減らそうと思ったのですが tree shaking がまともに出来ない","href":null},{"type":"text","text":{"content":" webpack の plugin で tree shaking は出来るみたいなんですが、平面に GLSL 描画するだけにしか three の用途がなかったので、もう少し軽量な TWGL に逃げることにしました。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" webpack の plugin で tree shaking は出来るみたいなんですが、平面に GLSL 描画するだけにしか three の用途がなかったので、もう少し軽量な TWGL に逃げることにしました。","href":null}],"color":"default"}},{"object":"block","id":"ff2e02f6-a2f3-4c60-b8ce-b71a7f2aa77d","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"以下は React で TWGL.js を使う際のコードです。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"以下は React で TWGL.js を使う際のコードです。","href":null}],"color":"default"}},{"object":"block","id":"077bbe5f-fbd5-4afe-8bef-71add5dd70f1","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"code","code":{"caption":[],"rich_text":[{"type":"text","text":{"content":"// sourced from <http://twgljs.org/examples/tiny.html>\n\nimport {\n  createBufferInfoFromArrays,\n  createProgramInfo,\n  drawBufferInfo,\n  resizeCanvasToDisplaySize,\n  setBuffersAndAttributes,\n  setUniforms,\n} from 'twgl.js';\nimport { css } from '@linaria/core';\n\nexport const Canvas: React.FC = () => {\n  const onCanvasLoaded = (element: HTMLCanvasElement) => {\n    if (!element) return;\n\n    const gl = element.getContext('webgl');\n\n    if (gl == null) return;\n\n    const programInfo = createProgramInfo(gl, [\n      require('./shaders/vertex.glsl').default,\n      require('./shaders/fragment.glsl').default,\n    ]);\n\n    const arrays = {\n      position: [-1, -1, 0, 1, -1, 0, -1, 1, 0, -1, 1, 0, 1, -1, 0, 1, 1, 0],\n    };\n    const bufferInfo = createBufferInfoFromArrays(gl, arrays);\n\n    function render(time: number) {\n      if (!gl?.canvas) return;\n\n      resizeCanvasToDisplaySize(gl.canvas as HTMLCanvasElement);\n      gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);\n\n      const uniforms = {\n        time: time * 0.001,\n        resolution: [gl.canvas.width, gl.canvas.height],\n      };\n\n      gl.useProgram(programInfo.program);\n      setBuffersAndAttributes(gl, programInfo, bufferInfo);\n      setUniforms(programInfo, uniforms);\n      drawBufferInfo(gl, bufferInfo);\n\n      requestAnimationFrame(render);\n    }\n    requestAnimationFrame(render);\n  };\n  return <canvas className={wrap} ref={onCanvasLoaded} />;\n};\n\nconst wrap = css`\n  width: 100%;\n`;\n\n","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"// sourced from <http://twgljs.org/examples/tiny.html>\n\nimport {\n  createBufferInfoFromArrays,\n  createProgramInfo,\n  drawBufferInfo,\n  resizeCanvasToDisplaySize,\n  setBuffersAndAttributes,\n  setUniforms,\n} from 'twgl.js';\nimport { css } from '@linaria/core';\n\nexport const Canvas: React.FC = () => {\n  const onCanvasLoaded = (element: HTMLCanvasElement) => {\n    if (!element) return;\n\n    const gl = element.getContext('webgl');\n\n    if (gl == null) return;\n\n    const programInfo = createProgramInfo(gl, [\n      require('./shaders/vertex.glsl').default,\n      require('./shaders/fragment.glsl').default,\n    ]);\n\n    const arrays = {\n      position: [-1, -1, 0, 1, -1, 0, -1, 1, 0, -1, 1, 0, 1, -1, 0, 1, 1, 0],\n    };\n    const bufferInfo = createBufferInfoFromArrays(gl, arrays);\n\n    function render(time: number) {\n      if (!gl?.canvas) return;\n\n      resizeCanvasToDisplaySize(gl.canvas as HTMLCanvasElement);\n      gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);\n\n      const uniforms = {\n        time: time * 0.001,\n        resolution: [gl.canvas.width, gl.canvas.height],\n      };\n\n      gl.useProgram(programInfo.program);\n      setBuffersAndAttributes(gl, programInfo, bufferInfo);\n      setUniforms(programInfo, uniforms);\n      drawBufferInfo(gl, bufferInfo);\n\n      requestAnimationFrame(render);\n    }\n    requestAnimationFrame(render);\n  };\n  return <canvas className={wrap} ref={onCanvasLoaded} />;\n};\n\nconst wrap = css`\n  width: 100%;\n`;\n\n","href":null}],"language":"plain text"}},{"object":"block","id":"a3ba6c1c-07f0-446e-ba26-72c091372d50","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"WebGL API を叩いたときほど書く量は減ったのではないでしょうか。 three ほどライブラリの容量もないので快適です。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"WebGL API を叩いたときほど書く量は減ったのではないでしょうか。 three ほどライブラリの容量もないので快適です。","href":null}],"color":"default"}},{"object":"block","id":"4b856bb8-1f98-4476-ab15-cbbbed0fb329","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2023-01-02T13:47:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"three の軽量化について","link":null},"annotations":{"bold":true,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"three の軽量化について","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"7ffde1ce-4233-45fe-b7ed-65fba7938714","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"試してはいないんですが調べるだけ調べました。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"試してはいないんですが調べるだけ調べました。","href":null}],"color":"default"}},{"object":"block","id":"cf8532e4-e2e3-4e8a-9ef0-775c6c7dbf44","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"Three.js の issue の discussion","link":{"url":"https://github.com/mrdoob/three.js/issues/16059"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Three.js の issue の discussion","href":"https://github.com/mrdoob/three.js/issues/16059"},{"type":"text","text":{"content":" とか、 ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" とか、 ","href":null},{"type":"text","text":{"content":"この記事","link":{"url":"https://note.com/unshift/n/n933f0f4a2cbe"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"この記事","href":"https://note.com/unshift/n/n933f0f4a2cbe"},{"type":"text","text":{"content":" (日本語です) を見てもらうとわかるんですが、","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" (日本語です) を見てもらうとわかるんですが、","href":null},{"type":"text","text":{"content":"import { Foo } from 'three'","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"import { Foo } from 'three'","href":null},{"type":"text","text":{"content":" をしても three.js 全体を読み込んでしまうので、デフォルトで tree shaking は機能しません。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" をしても three.js 全体を読み込んでしまうので、デフォルトで tree shaking は機能しません。","href":null}],"color":"default"}},{"object":"block","id":"729ba217-cd65-4453-a6ae-9ad770645249","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"こういった状況を打開するため、 webpack / rollup 向けの ","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"こういった状況を打開するため、 webpack / rollup 向けの ","href":null},{"type":"text","text":{"content":"three-minifier","link":{"url":"https://github.com/yushijinhun/three-minifier"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"three-minifier","href":"https://github.com/yushijinhun/three-minifier"},{"type":"text","text":{"content":" という plugin があるようなので、どうしても three で tree shaking をしたいなら試してみるといいかもしれません(","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" という plugin があるようなので、どうしても three で tree shaking をしたいなら試してみるといいかもしれません(","href":null},{"type":"text","text":{"content":"THREE.WebGLRenderer","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":true,"color":"default"},"plain_text":"THREE.WebGLRenderer","href":null},{"type":"text","text":{"content":" 単体のサイズが大きいので、 tree shaking した恩恵をあまり受けられないような気もしています)。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 単体のサイズが大きいので、 tree shaking した恩恵をあまり受けられないような気もしています)。","href":null}],"color":"default"}},{"object":"block","id":"a595d8f6-306c-4c39-b2a5-261a97247796","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"他に three を使わなくなった理由など","link":null},"annotations":{"bold":true,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"他に three を使わなくなった理由など","href":null}],"color":"default"}},{"object":"block","id":"77264a28-9cf1-45ca-8c78-4beb3dbd43b8","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"three 本体の動きとして、","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"three 本体の動きとして、","href":null},{"type":"text","text":{"content":"型定義を削除したPRがマージされた","link":{"url":"https://github.com/mrdoob/three.js/pull/21174"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"型定義を削除したPRがマージされた","href":"https://github.com/mrdoob/three.js/pull/21174"},{"type":"text","text":{"content":" ことがあり、若干の不信感が募っていました。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" ことがあり、若干の不信感が募っていました。","href":null}],"color":"default"}},{"object":"block","id":"f9e6856c-f57f-491f-919a-e19e032c5c55","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"quote","quote":{"rich_text":[{"type":"text","text":{"content":"The side effect of that decision was a considerable increase on maintenance burden and made things harder for new contributors too. For the sake of continuity of the project I think it's best to move them back to DefinitelyTyped (or any other repo interested in maintaining them).","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"The side effect of that decision was a considerable increase on maintenance burden and made things harder for new contributors too. For the sake of continuity of the project I think it's best to move them back to DefinitelyTyped (or any other repo interested in maintaining them).","href":null}],"color":"default"}},{"object":"block","id":"eeabdd80-6aef-447f-a1a3-ca935e84eaf5","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"Mr.doob","link":{"url":"https://twitter.com/mrdoob"}},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Mr.doob","href":"https://twitter.com/mrdoob"},{"type":"text","text":{"content":" 氏曰く、とにかくメンテが辛かったので負荷を減らしたかったらしいですね。お疲れさまでした。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":" 氏曰く、とにかくメンテが辛かったので負荷を減らしたかったらしいですね。お疲れさまでした。","href":null}],"color":"default"}},{"object":"block","id":"77a620eb-6c21-4c80-99e8-f6d406b2d1a7","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"three の型はもういいとして、平面に GLSL を描画する以外のことがしたくなったらまた戻ってくるかもしれないですが、しばらくは TWGL 使うつもりです。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"three の型はもういいとして、平面に GLSL を描画する以外のことがしたくなったらまた戻ってくるかもしれないですが、しばらくは TWGL 使うつもりです。","href":null}],"color":"default"}},{"object":"block","id":"561f1cfb-d16e-4c14-9629-a5748fc232c8","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2023-01-02T13:47:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"heading_2","heading_2":{"rich_text":[{"type":"text","text":{"content":"CSS","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"CSS","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"7a42c74d-e517-4aac-b2df-7d14ee0d29c4","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"CSS が JS のランタイムに組み込まれるのは嫌なんですが、 CSSinJS はやりたかったので linaria を使いました（CSSはファイルとして読み込んでほしい）。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"CSS が JS のランタイムに組み込まれるのは嫌なんですが、 CSSinJS はやりたかったので linaria を使いました（CSSはファイルとして読み込んでほしい）。","href":null}],"color":"default"}},{"object":"block","id":"c07134ee-eb81-44be-b49e-384f8b9714fa","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2023-01-02T13:47:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"heading_1","heading_1":{"rich_text":[{"type":"text","text":{"content":"おわりに","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"おわりに","href":null}],"is_toggleable":false,"color":"default"}},{"object":"block","id":"40a24589-6f43-4348-bf2a-0740af02fa29","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"Next.js に頼らないかつ最小の構成で React + WebGL を組みました。その他の疑問点や展望については以下のとおりです。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"Next.js に頼らないかつ最小の構成で React + WebGL を組みました。その他の疑問点や展望については以下のとおりです。","href":null}],"color":"default"}},{"object":"block","id":"b93582b9-d8d2-4e3c-a803-466f306c3a1a","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"画像最適化","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"画像最適化","href":null}],"color":"default"}},{"object":"block","id":"37acbb40-ec20-4105-832e-19e5a80132cd","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":true,"archived":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"適切なチャンク分割","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"適切なチャンク分割","href":null}],"color":"default"}},{"object":"block","id":"4388b4da-ce97-4af6-b9c7-77a23cc6fd31","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":true,"archived":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"GLSL ファイルを読み込むための raw-loader","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"GLSL ファイルを読み込むための raw-loader","href":null}],"color":"default"}},{"object":"block","id":"178d4882-5c57-4575-9a8e-91f97c4c51f4","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"bulleted_list_item","bulleted_list_item":{"rich_text":[{"type":"text","text":{"content":"動的な routing 対応","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"動的な routing 対応","href":null}],"color":"default"}},{"object":"block","id":"070b9068-99a6-47ec-ad47-b3e5d24e3748","parent":{"type":"page_id","page_id":"642869d7-925f-4e1e-9583-54f12f71d1a5"},"created_time":"2022-12-31T16:42:00.000Z","last_edited_time":"2022-12-31T16:42:00.000Z","created_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"last_edited_by":{"object":"user","id":"a4bdc144-e774-42ba-b088-ef9316f60cad"},"has_children":false,"archived":false,"type":"paragraph","paragraph":{"rich_text":[{"type":"text","text":{"content":"まだ劣化 Next.js に WebGL の環境のせましたという感じなのでここらへんやっていきます。","link":null},"annotations":{"bold":false,"italic":false,"strikethrough":false,"underline":false,"code":false,"color":"default"},"plain_text":"まだ劣化 Next.js に WebGL の環境のせましたという感じなのでここらへんやっていきます。","href":null}],"color":"default"}}]}}},"__N_SSG":true}